(this.webpackJsonpmovielist=this.webpackJsonpmovielist||[]).push([[0],{114:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(63),c=n.n(a),i=(n(82),n(5)),s=n(133),o=n(51),l=n.n(o),d=n(0);function u(e){return Object(d.jsx)("div",{className:"flex flex-col w-screen h-screen justify-center items-center",children:Object(d.jsxs)("div",{className:"w-1/3",children:[Object(d.jsx)("img",{className:"w-full",src:"https://via.placeholder.com/1000x500",alt:"Logo"}),Object(d.jsx)("h2",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin efficitur, massa ac semper tempus, lacus massa gravida neque, eget congue massa lectus vitae felis. Nulla auctor augue id mauris aliquam dignissim. Integer vitae lectus eget nibh congue sollicitudin nec vel nisl. Maecenas eget tempor lectus. Nunc ut ligula magna. Nullam condimentum ipsum dui, efficitur pretium urna commodo non. Nullam venenatis nulla convallis libero gravida, nec placerat nisi varius. Vivamus dictum mauris in dui varius, ornare feugiat ante fermentum. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Aenean eleifend bibendum nisl quis pellentesque. Proin viverra eu."}),Object(d.jsx)(s.a,{onClick:e.start,className:"h-24 w-full",id:"get-started",variant:"contained",startIcon:Object(d.jsx)(l.a,{}),endIcon:Object(d.jsx)(l.a,{}),children:"Get Started"})]})})}function j(){return Object(d.jsx)("div",{className:"relative h-screen w-screen",children:Object(d.jsx)("div",{className:"main-area absolute "})})}var m=Object(r.createContext)({room:0});function b(e){var t=e.children,n=Object(r.useState)(0),a=Object(i.a)(n,2),c=a[0],s=a[1];return Object(r.useEffect)((function(){console.log(c)}),[c]),Object(d.jsx)(m.Provider,{value:{room:c,setRoom:s},children:t})}var h=Object(r.createContext)({loveIt:[],hateIt:[],streamingProvider:[],userName:"",userId:"",handleLoveIt:function(e){},handleHateIt:function(e){},handleStrProv:function(e){},changeUserId:function(e){},changeUserName:function(e){}});function v(e){var t=Object(r.useState)([]),n=Object(i.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)([]),o=Object(i.a)(s,2),l=o[0],u=o[1],j=Object(r.useState)(""),m=Object(i.a)(j,2),b=m[0],v=m[1],g=Object(r.useState)(""),f=Object(i.a)(g,2),x=f[0],O=f[1],p=Object(r.useState)([]),I=Object(i.a)(p,2),N=I[0],w=I[1],y={loveIt:a,hateIt:l,streamingProvider:N,userId:b,userName:x,handleLoveIt:function(e){a.includes(e.target.name)?c(a.filter((function(t){return t!==e.target.name}))):(u(l.filter((function(t){return t!==e.target.name}))),c(a.concat(e.target.name)))},handleHateIt:function(e){l.includes(e.target.name)?u(l.filter((function(t){return t!==e.target.name}))):(c(a.filter((function(t){return t!==e.target.name}))),u(l.concat(e.target.name)))},handleStrProv:function(e){N.includes(e.target.name)?w(N.filter((function(t){return t!==e.target.name}))):w(N.concat(e.target.name))},changeUserId:function(e){v(e)},changeUserName:function(e){O(e)}};return Object(d.jsx)(h.Provider,{value:y,children:e.children})}var g=h;function f(){var e=Object(r.useContext)(g);return Object(d.jsx)("div",{className:"flex h-full w-full",children:Object(d.jsx)("div",{className:"m-auto text-center",children:Object(d.jsxs)("div",{id:"likeGenre",children:[Object(d.jsxs)("h1",{className:"text-white",style:{fontSize:"1.7vw"},children:["Select genres you ",Object(d.jsx)("span",{className:"text-green-500",children:"DO"})," like to watch"]}),Object(d.jsx)("div",{className:"flex-row flex-wrap gap-8",children:[{name:"Comedy",genreId:"35"},{name:"Fantasy",genreId:"14"},{name:"Crime",genreId:"80"},{name:"Drama",genreId:"18"},{name:"Adventure",genreId:"12"},{name:"History",genreId:"36"},{name:"Thriller",genreId:"53"},{name:"Animation",genreId:"16"},{name:"Family",genreId:"10751"},{name:"Mystery",genreId:"9648"},{name:"Action",genreId:"28"},{name:"Romance",genreId:"10749"},{name:"Sci-Fi",genreId:"878"},{name:"War",genreId:"10752"},{name:"Western",genreId:"37"},{name:"Horror",genreId:"27"},{name:"Musical",genreId:"10402"}].map((function(t){return Object(d.jsx)("button",{style:{fontSize:"0.8vw"},name:t.genreId,className:"font-semibold h-12 w-32 my-2 mx-2 ".concat(e.loveIt.includes(t.genreId)?"bg-green-300":e.hateIt.includes(t.genreId)?"bg-red-300":"bg-gray-300"," rounded transition-all duration-200  ").concat(e.loveIt.includes(t.genreId)?"hover:bg-green-400":e.hateIt.includes(t.genreId)?"hover:bg-red-400":"hover:bg-gray-400"),onClick:e.handleLoveIt,children:t.name})}))})]})})})}function x(){var e=Object(r.useContext)(g);return Object(d.jsx)("div",{className:"flex h-full w-full",children:Object(d.jsx)("div",{className:"m-auto text-center",children:Object(d.jsxs)("div",{id:"likeGenre",children:[Object(d.jsxs)("h1",{className:"text-white",style:{fontSize:"1.7vw"},children:["Select genres you"," ",Object(d.jsx)("span",{className:"text-red-500",children:"DON'T"})," like to watch"]}),Object(d.jsx)("div",{className:"flex-row flex-wrap gap-8",children:[{name:"Comedy",genreId:"35"},{name:"Fantasy",genreId:"14"},{name:"Crime",genreId:"80"},{name:"Drama",genreId:"18"},{name:"Adventure",genreId:"12"},{name:"History",genreId:"36"},{name:"Thriller",genreId:"53"},{name:"Animation",genreId:"16"},{name:"Family",genreId:"10751"},{name:"Mystery",genreId:"9648"},{name:"Action",genreId:"28"},{name:"Romance",genreId:"10749"},{name:"Sci-Fi",genreId:"878"},{name:"War",genreId:"10752"},{name:"Western",genreId:"37"},{name:"Horror",genreId:"27"},{name:"Musical",genreId:"10402"}].map((function(t){return Object(d.jsx)("button",{style:{fontSize:"0.8vw"},name:t.genreId,className:"font-semibold h-12 w-32 my-2 mx-2 ".concat(e.loveIt.includes(t.genreId)?"bg-green-300":e.hateIt.includes(t.genreId)?"bg-red-300":"bg-gray-300"," rounded transition-all duration-200  ").concat(e.loveIt.includes(t.genreId)?"hover:bg-green-400":e.hateIt.includes(t.genreId)?"hover:bg-red-400":"hover:bg-gray-400"),onClick:e.handleHateIt,children:t.name})}))})]})})})}function O(){var e=Object(r.useContext)(g);return Object(d.jsx)("div",{className:"flex h-screen",children:Object(d.jsx)("div",{className:"m-auto text-center lg:w-1/4 sm:w-screen",children:Object(d.jsxs)("div",{id:"likeGenre",children:[Object(d.jsx)("h1",{className:"text-white",children:"Select your available Providers"}),Object(d.jsx)("div",{className:"flex-row flex-wrap gap-8",children:[{name:"Netflix",provId:"8",logoUrl:"/9A1JSVmSxsyaBK4SUFsYVqbAYfW.jpg"},{name:"Amazon Prime",provId:"9",logoUrl:"/68MNrwlkpF7WnmNPXLah69CR5cb.jpg"},{name:"Disney+",provId:"337",logoUrl:"/dgPueyEdOwpQ10fjuhL2WYFQwQs.jpg"},{name:"Apple iTunes",provId:"2",logoUrl:"/q6tl6Ib6X5FT80RMlcDbexIo4St.jpg"},{name:"Sky Ticket",provId:"30",logoUrl:"/12H7kZk3kjUCXdUVkdJaSv4xyzH.jpg"}].map((function(t){return Object(d.jsx)("button",{onClick:e.handleStrProv,children:Object(d.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/original").concat(t.logoUrl),name:t.provId,className:"".concat(e.streamingProvider.includes(t.provId)?"":"opacity-70"),alt:t.name})})}))})]})})})}var p=n(9),I=n(2),N=n.n(I),w=n(23),y=n(74),S=Object(y.a)("https://jhyyubgwvpmxcfotdkhe.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYzNDgyNzg2MywiZXhwIjoxOTUwNDAzODYzfQ.1_WSYnUGYhHPg-m-4_PbZikoLpXF_e4FKXr1_XQasl0");var k=n(69),C=n.n(k),U=n(71),_=n.n(U),L=n(70),P=n.n(L);function z(e){var t=Object(r.useContext)(m).room,a=Object(r.useContext)(g),c=Object(r.useState)([]),o=Object(i.a)(c,2),l=o[0],u=o[1],j=Object(r.useState)([]),b=Object(i.a)(j,2),h=b[0],v=b[1],f=Object(r.useState)([]),x=Object(i.a)(f,2),O=x[0],I=x[1],y=Object(r.useState)(!0),k=Object(i.a)(y,2),U=k[0],L=k[1],z=Object(r.useState)(1),A=Object(i.a)(z,2),M=A[0],E=A[1],T=Object(r.useState)({}),F=Object(i.a)(T,2),D=F[0],H=F[1];var q=function(){var e=Object(w.a)(N.a.mark((function e(n){var r,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u([].concat(Object(p.a)(l),[{id:D.id,poster_path:D.poster_path}])),v([].concat(Object(p.a)(h),[D.id])),e.next=4,S.from("rooms").select("movieScoreList").match({id:t.id});case 4:return r=e.sent,c=r.data,e.next=8,S.from("rooms").update({movieScoreList:[].concat(Object(p.a)(c[0].movieScoreList),[{id:D.id,title:D.title,poster_path:D.poster_path,voter:a.userId}])}).match({id:t.id});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){U||function(){for(var e=0;e<t.movieScoreList.length;e++)if(!h.includes(t.movieScoreList[e].id)){var r=n(54).default,a={method:"GET",url:"https://api.themoviedb.org/3/movie/".concat(t.movieScoreList[e].id,"?api_key=").concat("8da79493434d544b51390e63bbf6eee2","&language=en-US")};return void r.request(a).then((function(e){H(e.data),L(!1)})).catch((function(e){console.error(e)}))}for(var c=0;c<O.length;c++)if(!h.includes(O[c].id))return void H(O[c]);R(M)}()}),[h]);var R=function(e){var t=[];E(M+1);var r=n(54).default,c={method:"GET",url:"https://api.themoviedb.org/3/discover/movie",params:{api_key:"8da79493434d544b51390e63bbf6eee2",with_genres:a.loveIt.join("|"),without_genres:a.hateIt.join("|"),with_watch_providers:a.streamingProvider.join("|"),watch_region:"DE",page:e,with_watch_monetization_types:"flatrate"}};r.request(c).then((function(e){t=function(e){for(var t,n=e.length;0!==n;){t=Math.floor(Math.random()*n),n--;var r=[e[t],e[n]];e[n]=r[0],e[t]=r[1]}return e}(Object(p.a)(e.data.results)),I(t),H(t[0]),L(!1)})).catch((function(e){console.error(e)}))};Object(r.useEffect)((function(){R(M)}),[]);return U||0===O.length?Object(d.jsx)("div",{children:"Loading..."}):Object(d.jsxs)("div",{className:"grid grid-cols-3",children:[Object(d.jsx)("div",{}),Object(d.jsxs)("div",{className:"mt-24 shadow-lg",children:[Object(d.jsx)("div",{className:"relative w-3/4 mx-auto",children:Object(d.jsx)("img",{className:"rounded",src:"".concat("https://image.tmdb.org/t/p/original").concat(D.poster_path),alt:D.title})}),Object(d.jsxs)("div",{className:"grid grid-cols-3 object-bottom text-lg",children:[Object(d.jsx)(s.a,{onClick:function(e){v([].concat(Object(p.a)(h),[D.id]))},variant:"contained",startIcon:Object(d.jsx)(C.a,{}),color:"error",children:"Hate"}),Object(d.jsx)(s.a,{variant:"contained",children:Object(d.jsx)(P.a,{})}),Object(d.jsx)(s.a,{onClick:q,variant:"contained",endIcon:Object(d.jsx)(_.a,{}),color:"success",children:"Like"})]})]})]})}function A(){return Object(d.jsxs)("div",{className:"h-screen",children:[Object(d.jsx)(z,{}),Object(d.jsx)("ul",{})]})}var M=n(52);function E(){var e=Object(r.useContext)(m).room;function t(t){var n=[];return t.votes.forEach((function(t){for(var r=0;r<(null===e||void 0===e?void 0:e.users.length);r++)t===(null===e||void 0===e?void 0:e.users[r].id)&&n.push(null===e||void 0===e?void 0:e.users[r].name)})),n}return Object(r.useEffect)((function(){M.a.rebuild()}),[null===e||void 0===e?void 0:e.movieScoreList]),Object(d.jsx)("div",{children:Object(d.jsx)("section",{children:Object(d.jsx)("div",{className:"grid grid-cols-3 gap-10 min-h-192 max-h-192 overflow-y-scroll",children:function(e){if(!e)return[];var t=[];e:for(var n=0;n<e.length;n++){for(var r=0;r<t.length;r++)if(t[r].movie===e[n].id){t[r].votes.push(e[n].voter);continue e}t.push({movie:e[n].id,votes:[e[n].voter],img:e[n].poster_path,title:e[n].title})}return t.sort((function(e,t){return e.votes.length<t.votes.length?1:e.votes.length>t.votes.length?-1:0})),t}(null===e||void 0===e?void 0:e.movieScoreList).map((function(e,n){return Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{"data-for":"".concat(n),"data-tip":!0,"data-iscapture":"true",children:Object(d.jsx)("div",{className:"relative ",children:Object(d.jsx)("img",{className:"h-64 rounded",src:"".concat("https://image.tmdb.org/t/p/original").concat(e.img),alt:"alt"})})}),Object(d.jsx)(M.a,{id:"".concat(n),place:"right",type:"dark",effect:"float",multiline:!0,children:Object(d.jsxs)("table",{className:"text-lg",children:[Object(d.jsxs)("tr",{className:"leading-8",children:[Object(d.jsx)("td",{children:"Title:"}),Object(d.jsx)("td",{className:"text-right",children:e.title})]}),Object(d.jsxs)("tr",{className:"leading-8",children:[Object(d.jsx)("td",{children:"Votes:"}),Object(d.jsx)("td",{className:"text-right",children:e.votes.length})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{className:"leading-8 align-text-top",children:"Voter:"}),Object(d.jsx)("td",{className:"text-right leading-6",children:Object(d.jsx)("ul",{children:t(e).map((function(e){return Object(d.jsx)("li",{children:e})}))})})]})]})})]},n)}))})})})}function T(){var e=Object(r.useContext)(m).room,t=Object(r.useContext)(g),n=Object(r.useState)(""),a=Object(i.a)(n,2),c=a[0],s=a[1];return Object(r.useEffect)((function(){for(var n=0;n<(null===e||void 0===e?void 0:e.users.length);n++)t.userId===(null===e||void 0===e?void 0:e.users[n].id)&&s(null===e||void 0===e?void 0:e.users[n].name)}),[null===e||void 0===e?void 0:e.users]),void 0===e?Object(d.jsx)("div",{}):Object(d.jsxs)("div",{className:"absolute top-0 right-0 font-bold text-white",children:[Object(d.jsxs)("div",{children:["Username: ",c]}),Object(d.jsxs)("div",{children:["Room: ",null===e||void 0===e?void 0:e.uniqueRoom]}),Object(d.jsx)("div",{children:"Users: "}),null===e||void 0===e?void 0:e.users.map((function(e,t){return Object(d.jsx)("div",{children:e.name},t)})),Object(d.jsx)(E,{})]})}function F(e){var t=Object(r.useContext)(g),n=Object(r.useContext)(m).setRoom;function a(){return(a=Object(w.a)(N.a.mark((function r(){var a,i,s,o,l,d;return N.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(a="ABCDEFGHIJKLMNOPQRSTUVWXYZ",i="",s=0;s<4;s++)o=Math.floor(Math.random()*a.length),i+=a[o];return r.next=5,S.from("rooms").insert([{uniqueRoom:i,users:[{name:t.userName,id:t.userId}],movieScoreList:[]}]);case 5:l=r.sent,d=l.data,n(d[0]),c(d[0].id),e.doubleNext();case 10:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function c(e){S.from("rooms:id=eq."+e).on("UPDATE",(function(t){function r(){return(r=Object(w.a)(N.a.mark((function t(){var r,a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.from("rooms").select("*").match({id:e});case 2:r=t.sent,a=r.data,n(a[0]);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){r.apply(this,arguments)}()})).subscribe()}return Object(r.useEffect)((function(){t.changeUserId("_"+Math.random().toString(36).substr(2,9))}),[]),Object(d.jsxs)("div",{className:"h-full flex flex-col justify-around items-center",children:[Object(d.jsxs)("div",{className:"flex flex-col h-1/2 justify-center items-center",children:[Object(d.jsx)("h1",{className:"text-white",style:{fontSize:"2vw"},children:"Name:"}),Object(d.jsx)("input",{style:{fontSize:"2vw"},value:t.userName,onChange:function(e){return t.changeUserName(e.target.value)}})]}),Object(d.jsxs)("div",{className:"h-1/2 grid grid-flow-col justify-around items-center",children:[Object(d.jsx)("div",{className:"",children:Object(d.jsx)(s.a,{onClick:function(){return a.apply(this,arguments)},disabled:""===t.userName,variant:"contained",className:"h-1/2 p-8 min-w-full",style:{fontSize:"1.3vw"},children:"Create a group"})}),Object(d.jsx)("div",{children:Object(d.jsx)(s.a,{disabled:""===t.userName,variant:"contained",className:"h-1/2 p-8",style:{fontSize:"1.3vw"},children:"Join a group"})})]})]})}var D=n(72),H=n.n(D),q=n(73),R=n.n(q);function J(){var e=Object(r.useState)(0),t=Object(i.a)(e,2),n=t[0],a=t[1],c=function(){a(n+1)},o=function(){a(n+2),console.log("Test")},l=function(){n>0&&a(n-1)};return Object(d.jsx)(b,{children:Object(d.jsxs)("div",{className:"h-screen w-screen flex",children:[Object(d.jsxs)("div",{id:"shadow-box",className:"relative w-1/3 h-1/3 mx-auto my-auto rounded-lg shadow-lg",children:[Object(d.jsx)("div",{className:"absolute -left-20 top-1/2",children:Object(d.jsx)(s.a,{fontSize:"large",onClick:l,children:Object(d.jsx)(H.a,{})})}),function(){switch(n){case 0:return Object(d.jsx)(F,{prev:l,next:c,doubleNext:o});case 1:return Object(d.jsx)(f,{});case 2:return Object(d.jsx)(x,{});case 3:return Object(d.jsx)(O,{});case 4:return Object(d.jsx)(A,{});default:return Object(d.jsx)("div",{})}}(),Object(d.jsx)("div",{className:"absolute -right-20 top-1/2",children:Object(d.jsx)(s.a,{fontSize:"large",onClick:c,children:Object(d.jsx)(R.a,{})})})]}),n>0&&Object(d.jsx)(T,{})]})})}var W=function(){var e=Object(r.useState)(0),t=Object(i.a)(e,2),n=t[0],a=t[1],c=function(){a(n+1)};return Object(d.jsx)("div",{className:"App",children:function(){switch(n){case 0:return Object(d.jsx)(j,{});case 1:return Object(d.jsx)(u,{start:c});case 2:return Object(d.jsx)(J,{});default:return Object(d.jsx)("div",{})}}()})};c.a.render(Object(d.jsx)(v,{children:Object(d.jsx)(W,{})}),document.getElementById("root"))},82:function(e,t,n){}},[[114,1,2]]]);
//# sourceMappingURL=main.4dad3dc7.chunk.js.map